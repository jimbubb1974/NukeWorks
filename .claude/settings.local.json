{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: improve permissions page with toggle buttons and cleaner layout\n\nImproved the relationship permissions table in the admin permissions page\nby removing the Notes column and replacing dual buttons with a single\ntoggle button that changes based on current state.\n\nChanges:\n- app/templates/admin/permissions.html:\n  - Removed \"Notes\" column from relationship table header and body\n  - Replaced two separate buttons (Make Confidential / Make Public) with\n    a single contextual toggle button\n  - Toggle shows \"Make Public\" (green, unlock icon) when confidential\n  - Toggle shows \"Make Confidential\" (warning, lock icon) when public\n  - Changed Public badge from bg-secondary to bg-success for better visibility\n  - Added title tooltips to toggle buttons\n\nBenefits:\n- Cleaner, more compact table layout\n- Single-click toggle action is more intuitive\n- Visual state (button color/icon) matches the action that will be taken\n- Admin privileges already enforced via @admin_required decorator on route\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: add company/project filters to permissions page, remove Type column\n\nEnhanced the permissions scrubbing page with filtering capabilities to show\nrelationships for specific companies or projects, and removed the redundant\nType column for a cleaner layout.\n\nBackend Changes (app/routes/admin.py):\n- Updated _collect_relationship_entries() to accept filter parameters\n  - filter_company_id: Filters relationships involving a specific company\n  - filter_project_id: Filters relationships for a specific project\n- Enhanced permission_scrubbing() route to:\n  - Accept filter_company and filter_project query parameters\n  - Query all companies and projects for filter dropdowns\n  - Pass filter values and entity lists to template\n\nFrontend Changes (app/templates/admin/permissions.html):\n- Removed \"Type\" column from Relationship Confidentiality table\n- Added filter form with three dropdowns:\n  - View: Confidential items only / Show all items (existing)\n  - Filter by Company: Dropdown with all companies\n  - Filter by Project: Dropdown with all projects\n- Auto-submit on dropdown change for immediate filtering\n- Added \"Apply Filters\" button for manual refresh\n\nFilter Behavior:\n- Company filter: Shows all relationships where the company is involved\n  (either as company in company_role_assignment or entity in personnel_entity)\n- Project filter: Shows all relationships associated with the specific project\n  (project relationships + personnel assigned to that project)\n- Filters work independently and can be combined\n- Clear filters by selecting \"All Companies\" or \"All Projects\"\n\nUse Cases:\n- \"Show me all relationships for Company X\"\n- \"Show me all relationships for Project Y\"\n- \"Show me confidential relationships for Company X in Project Y\"\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
