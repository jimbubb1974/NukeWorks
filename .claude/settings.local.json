{
  "permissions": {
    "allow": [
      "Bash(git rm:*)",
      "Bash(python:*)",
      "Bash(.venvScriptspython.exe app.py)",
      "Bash(venv/Scripts/python.exe:*)",
      "Bash(timeout 5 venv/Scripts/python.exe:*)",
      "Bash(timeout:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix Phase 4 legacy cleanup: remove all legacy model relationships and templates\n\nThis commit completes the Phase 4 legacy schema cleanup by removing all\nreferences to deleted legacy models and fixing SQLAlchemy relationship errors.\n\nChanges:\n- Remove legacy model relationships from Company, Project, and Personnel models\n- Remove legacy imports from admin.py, network.py, and personnel.py routes\n- Comment out legacy route functions (manage_personnel_clients, etc.)\n- Remove template references to deleted routes\n- Add migrations 009-012 for complete legacy table cleanup\n- Add migration helper script (run_migrations_auto.py)\n- Add legacy cleanup plan documentation\n\nModels Fixed:\n- Company: Removed products relationship (Product model removed)\n- Project: Removed all legacy relationship models (vendor, constructor, operator, owner, offtaker)\n- Personnel: Removed entity_relationships and team_assignments\n\nRoutes Fixed:\n- admin.py: Removed PersonnelEntityRelationship references\n- network.py: Removed Product model and technology column support\n- personnel.py: Commented out client management functions\n\nTemplates Fixed:\n- personnel/list.html: Removed manage_personnel_clients button\n- personnel/manage_clients.html: Added deprecation notice\n\nDatabase Migrations Added:\n- 009: Remove company fields (sector, headquarters_region)\n- 010: Normalize context types (legacy *Record to Global)\n- 011: Drop all legacy tables (vendors, owners, etc.)\n- 012: Cleanup remaining legacy artifacts\n\nApplication now starts without errors and all pages render correctly.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(venvScriptspython.exe -m pip install:*)",
      "Bash(test:*)",
      "Bash(sqlite3:*)",
      "Bash(curl -s http://127.0.0.1:5000/projects/ -o test_output.html)",
      "WebFetch(domain:127.0.0.1)",
      "Bash(curl -s -o /dev/null -w \"%{http_code}\" http://127.0.0.1:5000/)",
      "Bash(curl -s http://127.0.0.1:5000/projects/1/edit)",
      "Bash(curl -s http://127.0.0.1:5000/projects/1/edit -o test_output.html)",
      "Bash(git commit:*)",
      "Bash(git push:*)"
    ],
    "deny": [],
    "ask": []
  }
}
